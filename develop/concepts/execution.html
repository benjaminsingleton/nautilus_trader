<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="Docutils 0.19: https://docutils.sourceforge.io/" name="generator"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="ie=edge" http-equiv="x-ua-compatible"/>
  <meta content="Copy to clipboard" name="lang:clipboard.copy"/>
  <meta content="Copied to clipboard" name="lang:clipboard.copied"/>
  <meta content="en" name="lang:search.language"/>
  <meta content="True" name="lang:search.pipeline.stopwords"/>
  <meta content="True" name="lang:search.pipeline.trimmer"/>
  <meta content="No matching documents" name="lang:search.result.none"/>
  <meta content="1 matching document" name="lang:search.result.one"/>
  <meta content="# matching documents" name="lang:search.result.other"/>
  <meta content="[\s\-]+" name="lang:search.tokenizer"/>
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&amp;display=fallback" rel="stylesheet"/>
  <style>
   body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
  </style>
  <link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" referrerpolicy="no-referrer" rel="stylesheet"/>
  <link href="../_static/stylesheets/application.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-palette.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-fixes.css" rel="stylesheet"/>
  <link href="../_static/fonts/material-icons.css" rel="stylesheet"/>
  <meta content="#282f38" name="theme-color"/>
  <script src="../_static/javascripts/modernizr.js">
  </script>
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXX">
  </script>
  <script>
   window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'UA-XXXXX');
  </script>
  <link href="../_static/images/apple-icon-152x152.png" rel="apple-touch-icon"/>
  <title>
   Execution
  </title>
  <link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/material.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/togglebutton.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/custom.css" rel="stylesheet" type="text/css"/>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js">
  </script>
  <script src="../_static/jquery.js">
  </script>
  <script src="../_static/underscore.js">
  </script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js">
  </script>
  <script src="../_static/doctools.js">
  </script>
  <script src="../_static/sphinx_highlight.js">
  </script>
  <script src="../_static/clipboard.min.js">
  </script>
  <script src="../_static/copybutton.js">
  </script>
  <script>
   let toggleHintShow = 'Click to show';
  </script>
  <script>
   let toggleHintHide = 'Click to hide';
  </script>
  <script>
   let toggleOpenOnPrint = 'true';
  </script>
  <script src="../_static/togglebutton.js">
  </script>
  <script>
   var togglebuttonSelector = '.toggle, .admonition.dropdown';
  </script>
  <script src="../_static/script.js">
  </script>
  <link href="../_static/favicon-32x32.png" rel="shortcut icon"/>
  <link href="../genindex.html" rel="index" title="Index"/>
  <link href="../search.html" rel="search" title="Search"/>
  <link href="logging.html" rel="next" title="Logging"/>
  <link href="orders.html" rel="prev" title="Orders"/>
  <link href="../_static/images/apple-icon-152x152.png" rel="apple-touch-icon"/>
 </head>
 <body data-md-color-accent="#282f38" data-md-color-primary="#282f38" dir="ltr">
  <svg class="md-svg">
   <defs data-children-count="0">
    <svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg">
     <path d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor">
     </path>
    </svg>
   </defs>
  </svg>
  <input class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
  <input class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
  <label class="md-overlay" data-md-component="overlay" for="__drawer">
  </label>
  <a class="md-skip" href="#concepts/execution" tabindex="1">
   Skip to content
  </a>
  <header class="md-header" data-md-component="header">
   <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
     <div class="md-flex__cell md-flex__cell--shrink">
      <a class="md-header-nav__button md-logo" href="../index.html" title="">
       <img alt=" logo" height="26" src="../_static/nt-white.png"/>
      </a>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer">
      </label>
     </div>
     <div class="md-flex__cell md-flex__cell--stretch">
      <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
       <span class="md-header-nav__topic">
       </span>
       <span class="md-header-nav__topic">
        Execution
       </span>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--search md-header-nav__button" for="__search">
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
       <label class="md-search__overlay" for="__search">
       </label>
       <div class="md-search__inner" role="search">
        <form action="../search.html" class="md-search__form" method="get" name="search">
         <input autocapitalize="off" autocomplete="off" class="md-search__input" data-md-component="query" data-md-state="active" name="q" placeholder="Search" spellcheck="false" type="text"/>
         <label class="md-icon md-search__icon" for="__search">
         </label>
         <button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
          
         </button>
        </form>
        <div class="md-search__output">
         <div class="md-search__scrollwrap" data-md-scrollfix="">
          <div class="md-search-result" data-md-component="result">
           <div class="md-search-result__meta">
            Type to start searching
           </div>
           <ol class="md-search-result__list">
           </ol>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <div class="md-header-nav__source">
       <a class="md-source" data-md-source="github" href="https://github.com/nautechsystems/nautilus_trader" title="Go to repository">
        <div class="md-source__icon test">
         <svg fill="#fff" viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg">
          <!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.-->
          <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
          </path>
         </svg>
        </div>
        <div class="md-source__repository">
         nautilus_trader
        </div>
       </a>
      </div>
     </div>
     <script src="../_static/javascripts/version_dropdown.js">
     </script>
     <script>
      var json_loc = "../_static/version.json",
        target_loc = "../../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
     </script>
    </div>
   </nav>
  </header>
  <div class="md-container">
   <div class="md-hero" data-md-component="hero">
    <div class="md-hero__inner md-grid">
    </div>
   </div>
   <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
     <ul class="md-tabs__list">
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="/getting_started/index.html">
        Getting Started
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="/user_guide/index.html">
        User Guide
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="/api_reference/index.html">
        API Reference
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="/integrations/index.html">
        Integrations
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="/developer_guide/index.html">
        Developer Guide
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://github.com/nautechsystems/nautilus_trader/releases">
        Releases ⬀
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://nautilustrader.io/">
        nautilustrader.io ⬀
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="index.html">
        Concepts
       </a>
      </li>
     </ul>
    </div>
   </nav>
   <main class="md-main">
    <div class="md-main__inner md-grid" data-md-component="container">
     <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--primary" data-md-level="0">
         <label class="md-nav__title md-nav__title--site" for="__drawer">
          <a class="md-nav__button md-logo" href="../index.html" title="">
           <img alt=" logo" height="48" src="../_static/nt-white.png" width="48"/>
          </a>
          <a href="../index.html" title="">
          </a>
         </label>
         <div class="md-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/nautechsystems/nautilus_trader" title="Go to repository">
           <div class="md-source__icon test">
            <svg fill="#fff" viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg">
             <!--! Font Awesome Free 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.-->
             <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
             </path>
            </svg>
           </div>
           <div class="md-source__repository">
            nautilus_trader
           </div>
          </a>
         </div>
         <div id="menu">
          <ul class="md-nav__list">
           <li class="md-nav__item">
            <a class="md-nav__link" href="../getting_started/index.html">
             Getting Started
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../getting_started/installation.html">
               Installation
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../getting_started/quick_start.html">
               Quick Start
              </a>
             </li>
            </ul>
           </li>
           <li class="md-nav__item">
            <a class="md-nav__link" href="index.html">
             Concepts
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="architecture.html">
               Architecture
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="strategies.html">
               Strategies
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="instruments.html">
               Instruments
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="adapters.html">
               Adapters
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="orders.html">
               Orders
              </a>
             </li>
             <li class="md-nav__item md-nav__link--active">
              <a class="md-nav__link" href="#">
               Execution
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="logging.html">
               Logging
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="advanced/index.html">
               Advanced
              </a>
              <span class="arrow">
               <i class="fa-solid fa-chevron-right">
               </i>
              </span>
              <ul class="submenu">
               <li class="md-nav__item">
                <a class="md-nav__link" href="advanced/data.html">
                 Data
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="advanced/advanced_orders.html">
                 Advanced Orders
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="advanced/emulated_orders.html">
                 Emulated Orders
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="advanced/synthetic_instruments.html">
                 Synthetic instruments
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="advanced/portfolio_statistics.html">
                 Portfolio Statistics
                </a>
               </li>
              </ul>
             </li>
            </ul>
           </li>
           <li class="md-nav__item">
            <a class="md-nav__link" href="../guides/index.html">
             Guides
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../guides/backtest_example.html">
               Complete Backtest Example
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../guides/loading_external_data.html">
               Loading External Data
              </a>
             </li>
            </ul>
           </li>
           <li class="md-nav__item">
            <a class="md-nav__link" href="../integrations/index.html">
             Integrations
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../integrations/betfair.html">
               Betfair
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../integrations/binance.html">
               Binance
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../integrations/ib.html">
               Interactive Brokers
              </a>
             </li>
            </ul>
           </li>
           <li class="md-nav__item">
            <a class="md-nav__link" href="../api_reference/index.html">
             API Reference
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/accounting.html">
               Accounting
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/adapters/index.html">
               Adapters
              </a>
              <span class="arrow">
               <i class="fa-solid fa-chevron-right">
               </i>
              </span>
              <ul class="submenu">
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/adapters/betfair.html">
                 Betfair
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/adapters/binance.html">
                 Binance
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/adapters/interactive_brokers.html">
                 Interactive Brokers
                </a>
               </li>
              </ul>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/analysis.html">
               Analysis
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/backtest.html">
               Backtest
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/cache.html">
               Cache
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/common.html">
               Common
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/config.html">
               Config
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/core.html">
               Core
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/data.html">
               Data
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/execution.html">
               Execution
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/indicators.html">
               Indicators
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/infrastructure.html">
               Infrastructure
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/live.html">
               Live
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/model/index.html">
               Model
              </a>
              <span class="arrow">
               <i class="fa-solid fa-chevron-right">
               </i>
              </span>
              <ul class="submenu">
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/currency.html">
                 Currency
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/data.html">
                 Data
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/events.html">
                 Events
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/identifiers.html">
                 Identifiers
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/instruments.html">
                 Instruments
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/objects.html">
                 Objects
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/orderbook.html">
                 Order Book
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/orders.html">
                 Orders
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/position.html">
                 Position
                </a>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__link" href="../api_reference/model/tick_scheme.html">
                 Tick Scheme
                </a>
               </li>
              </ul>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/msgbus.html">
               Message Bus
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/persistence.html">
               Persistence
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/portfolio.html">
               Portfolio
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/risk.html">
               Risk
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/serialization.html">
               Serialization
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/system.html">
               System
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../api_reference/trading.html">
               Trading
              </a>
             </li>
            </ul>
           </li>
           <li class="md-nav__item">
            <a class="md-nav__link" href="../developer_guide/index.html">
             Developer Guide
            </a>
            <span class="arrow">
             <i class="fa-solid fa-chevron-right">
             </i>
            </span>
            <ul class="submenu">
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/environment_setup.html">
               Environment Setup
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/coding_standards.html">
               Coding Standards
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/cython.html">
               Cython
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/rust.html">
               Rust
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/testing.html">
               Testing
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="../developer_guide/packaged_data.html">
               Packaged Data
              </a>
             </li>
            </ul>
           </li>
          </ul>
         </div>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--secondary">
         <label class="md-nav__title" for="__toc">
          Contents
         </label>
         <ul class="md-nav__list" data-md-scrollfix="">
          <li class="md-nav__item">
           <a class="md-nav__link" href="#concepts-execution--page-root">
            Execution
           </a>
           <span class="arrow">
            <i class="fa-solid fa-chevron-right">
            </i>
           </span>
           <ul class="submenu">
            <li class="md-nav__item">
             <a class="md-nav__link" href="#execution-flow">
              Execution flow
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="#submitting-orders">
              Submitting orders
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="#execution-algorithms">
              Execution algorithms
             </a>
             <span class="arrow">
              <i class="fa-solid fa-chevron-right">
              </i>
             </span>
             <ul class="submenu">
              <li class="md-nav__item">
               <a class="md-nav__link" href="#twap-time-weighted-average-price">
                TWAP (Time-Weighted Average Price)
               </a>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#writing-execution-algorithms">
                Writing execution algorithms
               </a>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#spawned-orders">
                Spawned orders
               </a>
              </li>
              <li class="md-nav__item">
               <a class="md-nav__link" href="#managing-execution-algorithm-orders">
                Managing execution algorithm orders
               </a>
              </li>
             </ul>
            </li>
           </ul>
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-content">
      <article class="md-content__inner md-typeset" role="main">
       <section class="tex2jax_ignore mathjax_ignore" id="execution">
        <h1 id="concepts-execution--page-root">
         Execution
         <a class="headerlink" href="#concepts-execution--page-root" title="Permalink to this heading">
          ¶
         </a>
        </h1>
        <p>
         NautilusTrader can handle trade execution and order management for multiple strategies and venues
simultaneously (per instance). Several interacting components are involved in execution, making it
crucial to understand the possible flows of execution messages (commands and events).
        </p>
        <p>
         The main execution-related components include:
        </p>
        <ul class="simple">
         <li>
          <p>
           <code class="docutils literal notranslate">
            <span class="pre">
             Strategy
            </span>
           </code>
          </p>
         </li>
         <li>
          <p>
           <code class="docutils literal notranslate">
            <span class="pre">
             ExecAlgorithm
            </span>
           </code>
           (execution algorithms)
          </p>
         </li>
         <li>
          <p>
           <code class="docutils literal notranslate">
            <span class="pre">
             OrderEmulator
            </span>
           </code>
          </p>
         </li>
         <li>
          <p>
           <code class="docutils literal notranslate">
            <span class="pre">
             RiskEngine
            </span>
           </code>
          </p>
         </li>
         <li>
          <p>
           <code class="docutils literal notranslate">
            <span class="pre">
             ExecutionEngine
            </span>
           </code>
           or
           <code class="docutils literal notranslate">
            <span class="pre">
             LiveExecutionEngine
            </span>
           </code>
          </p>
         </li>
         <li>
          <p>
           <code class="docutils literal notranslate">
            <span class="pre">
             ExecutionClient
            </span>
           </code>
           or
           <code class="docutils literal notranslate">
            <span class="pre">
             LiveExecutionClient
            </span>
           </code>
          </p>
         </li>
        </ul>
        <section id="execution-flow">
         <h2 id="execution-flow">
          Execution flow
          <a class="headerlink" href="#execution-flow" title="Permalink to this heading">
           ¶
          </a>
         </h2>
         <p>
          The
          <code class="docutils literal notranslate">
           <span class="pre">
            Strategy
           </span>
          </code>
          base class inherits from
          <code class="docutils literal notranslate">
           <span class="pre">
            Actor
           </span>
          </code>
          and so contains all of the common data related
methods. It also provides methods for managing orders and trade execution:
         </p>
         <ul class="simple">
          <li>
           <p>
            <code class="docutils literal notranslate">
             <span class="pre">
              submit_order(...)
             </span>
            </code>
           </p>
          </li>
          <li>
           <p>
            <code class="docutils literal notranslate">
             <span class="pre">
              submit_order_list(...)
             </span>
            </code>
           </p>
          </li>
          <li>
           <p>
            <code class="docutils literal notranslate">
             <span class="pre">
              modify_order(...)
             </span>
            </code>
           </p>
          </li>
          <li>
           <p>
            <code class="docutils literal notranslate">
             <span class="pre">
              cancel_order(...)
             </span>
            </code>
           </p>
          </li>
          <li>
           <p>
            <code class="docutils literal notranslate">
             <span class="pre">
              cancel_all_orders(...)
             </span>
            </code>
           </p>
          </li>
          <li>
           <p>
            <code class="docutils literal notranslate">
             <span class="pre">
              close_position(...)
             </span>
            </code>
           </p>
          </li>
          <li>
           <p>
            <code class="docutils literal notranslate">
             <span class="pre">
              close_all_positions(...)
             </span>
            </code>
           </p>
          </li>
          <li>
           <p>
            <code class="docutils literal notranslate">
             <span class="pre">
              query_order(...)
             </span>
            </code>
           </p>
          </li>
         </ul>
         <p>
          These methods create the necessary execution commands under the hood and send them on the message
bus to the relevant components (point-to-point), as well as publishing any events (such as the
initialization of new orders i.e.
          <code class="docutils literal notranslate">
           <span class="pre">
            OrderInitialized
           </span>
          </code>
          events).
         </p>
         <p>
          The general execution flow looks like the following (each arrow indicates movement across the message bus):
         </p>
         <p>
          <code class="docutils literal notranslate">
           <span class="pre">
            Strategy
           </span>
          </code>
          -&gt;
          <code class="docutils literal notranslate">
           <span class="pre">
            OrderEmulator
           </span>
          </code>
          -&gt;
          <code class="docutils literal notranslate">
           <span class="pre">
            ExecAlgorithm
           </span>
          </code>
          -&gt;
          <code class="docutils literal notranslate">
           <span class="pre">
            RiskEngine
           </span>
          </code>
          -&gt;
          <code class="docutils literal notranslate">
           <span class="pre">
            ExecutionEngine
           </span>
          </code>
          -&gt;
          <code class="docutils literal notranslate">
           <span class="pre">
            ExecutionClient
           </span>
          </code>
         </p>
         <p>
          The
          <code class="docutils literal notranslate">
           <span class="pre">
            OrderEmulator
           </span>
          </code>
          and
          <code class="docutils literal notranslate">
           <span class="pre">
            ExecAlgorithm
           </span>
          </code>
          (s) components are optional in the flow, depending on
individual order parameters (as explained below).
         </p>
        </section>
        <section id="submitting-orders">
         <h2 id="submitting-orders">
          Submitting orders
          <a class="headerlink" href="#submitting-orders" title="Permalink to this heading">
           ¶
          </a>
         </h2>
         <p>
          An
          <code class="docutils literal notranslate">
           <span class="pre">
            OrderFactory
           </span>
          </code>
          is provided on the base class for every
          <code class="docutils literal notranslate">
           <span class="pre">
            Strategy
           </span>
          </code>
          as a convenience, reducing
the amount of boilerplate required to create different
          <code class="docutils literal notranslate">
           <span class="pre">
            Order
           </span>
          </code>
          objects (although these objects
can still be initialized directly with the
          <code class="docutils literal notranslate">
           <span class="pre">
            Order.__init__
           </span>
          </code>
          constructor if the trader prefers).
         </p>
         <p>
          The component an order flows to when submitted for execution depends on the following:
         </p>
         <ul class="simple">
          <li>
           <p>
            If an
            <code class="docutils literal notranslate">
             <span class="pre">
              emulation_trigger
             </span>
            </code>
            is specified, the order will first be sent to the
            <code class="docutils literal notranslate">
             <span class="pre">
              OrderEmulator
             </span>
            </code>
           </p>
          </li>
          <li>
           <p>
            If an
            <code class="docutils literal notranslate">
             <span class="pre">
              exec_algorithm_id
             </span>
            </code>
            is specified, the order will first be sent to the relevant
            <code class="docutils literal notranslate">
             <span class="pre">
              ExecAlgorithm
             </span>
            </code>
            (assuming it exists and has been registered correctly)
           </p>
          </li>
          <li>
           <p>
            Otherwise, the order is sent to the
            <code class="docutils literal notranslate">
             <span class="pre">
              RiskEngine
             </span>
            </code>
           </p>
          </li>
         </ul>
         <p>
          The following examples show method implementations for a
          <code class="docutils literal notranslate">
           <span class="pre">
            Strategy
           </span>
          </code>
          .
         </p>
         <p>
          This example submits a
          <code class="docutils literal notranslate">
           <span class="pre">
            LIMIT
           </span>
          </code>
          BUY order for emulation (see
          <a class="reference internal" href="advanced/emulated_orders.html">
           <span class="doc std std-doc">
            OrderEmulator
           </span>
          </a>
          ):
         </p>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span>    <span class="k">def</span> <span class="nf">buy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Users simple buy method (example).</span>
<span class="sd">        """</span>
        <span class="n">order</span><span class="p">:</span> <span class="n">LimitOrder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_factory</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span>
            <span class="n">instrument_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument_id</span><span class="p">,</span>
            <span class="n">order_side</span><span class="o">=</span><span class="n">OrderSide</span><span class="o">.</span><span class="n">BUY</span><span class="p">,</span>
            <span class="n">quantity</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">make_qty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trade_size</span><span class="p">),</span>
            <span class="n">price</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">make_price</span><span class="p">(</span><span class="mf">5000.00</span><span class="p">),</span>
            <span class="n">emulation_trigger</span><span class="o">=</span><span class="n">TriggerType</span><span class="o">.</span><span class="n">LAST_TRADE</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">submit_order</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
</pre>
          </div>
         </div>
         <div class="admonition note">
          <p class="admonition-title">
           Note
          </p>
          <p>
           It’s possible to specify both order emulation, and an execution algorithm.
          </p>
         </div>
         <p>
          This example submits a
          <code class="docutils literal notranslate">
           <span class="pre">
            MARKET
           </span>
          </code>
          BUY order to a TWAP execution algorithm:
         </p>
         <div class="highlight-python notranslate">
          <div class="highlight">
           <pre><span></span>    <span class="k">def</span> <span class="nf">buy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">"""</span>
<span class="sd">        Users simple buy method (example).</span>
<span class="sd">        """</span>
        <span class="n">order</span><span class="p">:</span> <span class="n">MarketOrder</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_factory</span><span class="o">.</span><span class="n">market</span><span class="p">(</span>
            <span class="n">instrument_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument_id</span><span class="p">,</span>
            <span class="n">order_side</span><span class="o">=</span><span class="n">OrderSide</span><span class="o">.</span><span class="n">BUY</span><span class="p">,</span>
            <span class="n">quantity</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">make_qty</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trade_size</span><span class="p">),</span>
            <span class="n">time_in_force</span><span class="o">=</span><span class="n">TimeInForce</span><span class="o">.</span><span class="n">FOK</span><span class="p">,</span>
            <span class="n">exec_algorithm_id</span><span class="o">=</span><span class="n">ExecAlgorithmId</span><span class="p">(</span><span class="s2">"TWAP"</span><span class="p">),</span>  
            <span class="n">exec_algorithm_params</span><span class="o">=</span><span class="p">{</span><span class="s2">"horizon_secs"</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">"interval_secs"</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">},</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">submit_order</span><span class="p">(</span><span class="n">order</span><span class="p">)</span>
</pre>
          </div>
         </div>
        </section>
        <section id="execution-algorithms">
         <h2 id="execution-algorithms">
          Execution algorithms
          <a class="headerlink" href="#execution-algorithms" title="Permalink to this heading">
           ¶
          </a>
         </h2>
         <p>
          The platform supports customized execution algorithm components and provides some built-in
algorithms, such as the Time-Weighted Average Price (TWAP) algorithm.
         </p>
         <section id="twap-time-weighted-average-price">
          <h3 id="twap-time-weighted-average-price">
           TWAP (Time-Weighted Average Price)
           <a class="headerlink" href="#twap-time-weighted-average-price" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           The TWAP execution algorithm aims to execute orders by evenly spreading them over a specified
time horizon. The algorithm receives a primary order representing the total size and direction
then splits this by spawning smaller child orders, which are then executed at regular intervals
throughout the time horizon.
          </p>
          <p>
           This helps to reduce the impact of the full size of the primary order on the market, by
minimizing the concentration of trade size at any given time.
          </p>
          <p>
           The algorithm will immediately submit the first order, with the final order submitted being the
primary order at the end of the horizon period.
          </p>
          <p>
           Using the TWAP algorithm as an example (found in
           <code class="docutils literal notranslate">
            <span class="pre">
             /examples/algorithms/twap.py
            </span>
           </code>
           ), this example
demonstrates how to initialize and register a TWAP execution algorithm directly with a
           <code class="docutils literal notranslate">
            <span class="pre">
             BacktestEngine
            </span>
           </code>
           (assuming an engine is already initialized):
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="kn">from</span> <span class="nn">nautilus_trader.examples.strategies.ema_cross_twap</span> <span class="kn">import</span> <span class="n">EMACrossTWAP</span>
<span class="kn">from</span> <span class="nn">nautilus_trader.examples.strategies.ema_cross_twap</span> <span class="kn">import</span> <span class="n">EMACrossTWAPConfig</span>

<span class="c1"># Instantiate and add your execution algorithm</span>
<span class="n">exec_algorithm</span> <span class="o">=</span> <span class="n">TWAPExecAlgorithm</span><span class="p">()</span>
<span class="n">engine</span><span class="o">.</span><span class="n">add_exec_algorithm</span><span class="p">(</span><span class="n">exec_algorithm</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           For this particular algorithm, two parameters must be specified:
          </p>
          <ul class="simple">
           <li>
            <p>
             <code class="docutils literal notranslate">
              <span class="pre">
               horizon_secs
              </span>
             </code>
            </p>
           </li>
           <li>
            <p>
             <code class="docutils literal notranslate">
              <span class="pre">
               interval_secs
              </span>
             </code>
            </p>
           </li>
          </ul>
          <p>
           The
           <code class="docutils literal notranslate">
            <span class="pre">
             horizon_secs
            </span>
           </code>
           parameter determines the time period over which the algorithm will execute, while
the
           <code class="docutils literal notranslate">
            <span class="pre">
             interval_secs
            </span>
           </code>
           parameter sets the time between individual order executions. These parameters
determine how a primary order is split into a series of spawned orders.
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="c1"># Configure your strategy</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">EMACrossTWAPConfig</span><span class="p">(</span>
    <span class="n">instrument_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">ETHUSDT_BINANCE</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
    <span class="n">bar_type</span><span class="o">=</span><span class="s2">"ETHUSDT.BINANCE-250-TICK-LAST-INTERNAL"</span><span class="p">,</span>
    <span class="n">trade_size</span><span class="o">=</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">"0.05"</span><span class="p">),</span>
    <span class="n">fast_ema_period</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">slow_ema_period</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">twap_horizon_secs</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>  <span class="c1"># &lt;-- execution algorithm param</span>
    <span class="n">twap_interval_secs</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>  <span class="c1"># &lt;-- execution algorithm param</span>
<span class="p">)</span>

<span class="c1"># Instantiate and add your strategy</span>
<span class="n">strategy</span> <span class="o">=</span> <span class="n">EMACrossTWAP</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           Alternatively, you can specify these parameters dynamically per order, determining them based on
actual market conditions. In this case, the strategy configuration parameters could be provided to
an execution model which determines the horizon and interval.
          </p>
          <div class="admonition note">
           <p class="admonition-title">
            Note
           </p>
           <p>
            There is no limit to the number of execution algorithm parameters you can create. The parameters
just need to be a dictionary with string keys and primitive values (values that can be serialized
over the wire, such as ints, floats, and strings).
           </p>
          </div>
         </section>
         <section id="writing-execution-algorithms">
          <h3 id="writing-execution-algorithms">
           Writing execution algorithms
           <a class="headerlink" href="#writing-execution-algorithms" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           To implement a custom execution algorithm you must define a class which inherits from
           <code class="docutils literal notranslate">
            <span class="pre">
             ExecAlgorithm
            </span>
           </code>
           .
          </p>
          <p>
           An execution algorithm is a type of
           <code class="docutils literal notranslate">
            <span class="pre">
             Actor
            </span>
           </code>
           , so it’s capable of the following:
          </p>
          <ul class="simple">
           <li>
            <p>
             Request and subscribe to data
            </p>
           </li>
           <li>
            <p>
             Access the
             <code class="docutils literal notranslate">
              <span class="pre">
               Cache
              </span>
             </code>
            </p>
           </li>
           <li>
            <p>
             Set time alerts and/or timers using a
             <code class="docutils literal notranslate">
              <span class="pre">
               Clock
              </span>
             </code>
            </p>
           </li>
          </ul>
          <p>
           Additionally it can:
          </p>
          <ul class="simple">
           <li>
            <p>
             Access the central
             <code class="docutils literal notranslate">
              <span class="pre">
               Portfolio
              </span>
             </code>
            </p>
           </li>
           <li>
            <p>
             Spawn secondary orders from a received primary (original) order
            </p>
           </li>
          </ul>
          <p>
           Once an execution algorithm is registered, and the system is running, it will receive orders off the
messages bus which are addressed to its
           <code class="docutils literal notranslate">
            <span class="pre">
             ExecAlgorithmId
            </span>
           </code>
           via the
           <code class="docutils literal notranslate">
            <span class="pre">
             exec_algorithm_id
            </span>
           </code>
           order parameter.
The order may also carry the
           <code class="docutils literal notranslate">
            <span class="pre">
             exec_algorithm_params
            </span>
           </code>
           being a
           <code class="docutils literal notranslate">
            <span class="pre">
             dict[str,
            </span>
            <span class="pre">
             Any]
            </span>
           </code>
           .
          </p>
          <div class="admonition warning">
           <p class="admonition-title">
            Warning
           </p>
           <p>
            Because of the flexibility of the
            <code class="docutils literal notranslate">
             <span class="pre">
              exec_algorithm_params
             </span>
            </code>
            dictionary. It’s important to thoroughly
validate all of the key value pairs for correct operation of the algorithm (for starters that the
dictionary is not
            <code class="docutils literal notranslate">
             <span class="pre">
              None
             </span>
            </code>
            and all necessary parameters actually exist).
           </p>
          </div>
          <p>
           Received orders will arrive via the following
           <code class="docutils literal notranslate">
            <span class="pre">
             on_order(...)
            </span>
           </code>
           method. These received orders are
know as “primary” (original) orders when being handled by an execution algorithm.
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="k">def</span> <span class="nf">on_order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="p">:</span> <span class="n">Order</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa (too complex)</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Actions to be performed when running and receives an order.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    order : Order</span>
<span class="sd">        The order to be handled.</span>

<span class="sd">    Warnings</span>
<span class="sd">    --------</span>
<span class="sd">    System method (not intended to be called by user code).</span>

<span class="sd">    """</span>
    <span class="c1"># Handle the order here</span>
</pre>
           </div>
          </div>
          <p>
           When the algorithm is ready to spawn a secondary order, it can use one of the following methods:
          </p>
          <ul class="simple">
           <li>
            <p>
             <code class="docutils literal notranslate">
              <span class="pre">
               spawn_market(...)
              </span>
             </code>
             (spawns a
             <code class="docutils literal notranslate">
              <span class="pre">
               MARKET
              </span>
             </code>
             order)
            </p>
           </li>
           <li>
            <p>
             <code class="docutils literal notranslate">
              <span class="pre">
               spawn_market_to_limit(...)
              </span>
             </code>
             (spawns a
             <code class="docutils literal notranslate">
              <span class="pre">
               MARKET_TO_LIMIT
              </span>
             </code>
             order)
            </p>
           </li>
           <li>
            <p>
             <code class="docutils literal notranslate">
              <span class="pre">
               spawn_limit(...)
              </span>
             </code>
             (spawns a
             <code class="docutils literal notranslate">
              <span class="pre">
               LIMIT
              </span>
             </code>
             order)
            </p>
           </li>
          </ul>
          <div class="admonition note">
           <p class="admonition-title">
            Note
           </p>
           <p>
            Additional order types will be implemented in future versions, as the need arises.
           </p>
          </div>
          <p>
           Each of these methods takes the primary (original)
           <code class="docutils literal notranslate">
            <span class="pre">
             Order
            </span>
           </code>
           as the first argument. The primary order
quantity will be reduced by the
           <code class="docutils literal notranslate">
            <span class="pre">
             quantity
            </span>
           </code>
           passed in (becoming the spawned orders quantity).
          </p>
          <div class="admonition warning">
           <p class="admonition-title">
            Warning
           </p>
           <p>
            There must be enough primary order quantity remaining (this is validated).
           </p>
          </div>
          <p>
           Once the desired number of secondary orders have been spawned, and the execution routine is over,
the intention is that the algorithm will then finally send the primary (original) order.
          </p>
         </section>
         <section id="spawned-orders">
          <h3 id="spawned-orders">
           Spawned orders
           <a class="headerlink" href="#spawned-orders" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           All secondary orders spawned from an execution algorithm will carry a
           <code class="docutils literal notranslate">
            <span class="pre">
             exec_spawn_id
            </span>
           </code>
           which is
simply the
           <code class="docutils literal notranslate">
            <span class="pre">
             ClientOrderId
            </span>
           </code>
           of the primary (original) order, and whose
           <code class="docutils literal notranslate">
            <span class="pre">
             client_order_id
            </span>
           </code>
           derives from this original identifier with the following convention:
          </p>
          <ul class="simple">
           <li>
            <p>
             <code class="docutils literal notranslate">
              <span class="pre">
               exec_spawn_id
              </span>
             </code>
             (primary order
             <code class="docutils literal notranslate">
              <span class="pre">
               client_order_id
              </span>
             </code>
             value)
            </p>
           </li>
           <li>
            <p>
             <code class="docutils literal notranslate">
              <span class="pre">
               spawn_sequence
              </span>
             </code>
             (the sequence number for the spawned order)
            </p>
           </li>
          </ul>
          <div class="highlight-default notranslate">
           <div class="highlight">
            <pre><span></span><span class="p">{</span><span class="n">exec_spawn_id</span><span class="p">}</span><span class="o">-</span><span class="n">E</span><span class="p">{</span><span class="n">spawn_sequence</span><span class="p">}</span>
</pre>
           </div>
          </div>
          <p>
           e.g.
           <code class="docutils literal notranslate">
            <span class="pre">
             O-20230404-001-000-E1
            </span>
           </code>
           (for the first spawned order)
          </p>
          <div class="admonition note">
           <p class="admonition-title">
            Note
           </p>
           <p>
            The “primary” and “secondary” / “spawn” terminology was specifically chosen to avoid conflict
or confusion with the “parent” and “child” contingency orders terminology (an execution algorithm may also deal with contingent orders).
           </p>
          </div>
         </section>
         <section id="managing-execution-algorithm-orders">
          <h3 id="managing-execution-algorithm-orders">
           Managing execution algorithm orders
           <a class="headerlink" href="#managing-execution-algorithm-orders" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           The
           <code class="docutils literal notranslate">
            <span class="pre">
             Cache
            </span>
           </code>
           provides several methods to aid in managing (keeping track of) the activity of
an execution algorithm:
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span>
<span class="n">cpdef</span> <span class="nb">list</span> <span class="n">orders_for_exec_algorithm</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">ExecAlgorithmId</span> <span class="n">exec_algorithm_id</span><span class="p">,</span>
    <span class="n">Venue</span> <span class="n">venue</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">InstrumentId</span> <span class="n">instrument_id</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">StrategyId</span> <span class="n">strategy_id</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">OrderSide</span> <span class="n">side</span> <span class="o">=</span> <span class="n">OrderSide</span><span class="o">.</span><span class="n">NO_ORDER_SIDE</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Return all execution algorithm orders for the given query filters.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    exec_algorithm_id : ExecAlgorithmId</span>
<span class="sd">        The execution algorithm ID.</span>
<span class="sd">    venue : Venue, optional</span>
<span class="sd">        The venue ID query filter.</span>
<span class="sd">    instrument_id : InstrumentId, optional</span>
<span class="sd">        The instrument ID query filter.</span>
<span class="sd">    strategy_id : StrategyId, optional</span>
<span class="sd">        The strategy ID query filter.</span>
<span class="sd">    side : OrderSide, default ``NO_ORDER_SIDE`` (no filter)</span>
<span class="sd">        The order side query filter.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[Order]</span>

<span class="sd">    """</span>
</pre>
           </div>
          </div>
          <p>
           As well as more specifically querying the orders for a certain execution series/spawn:
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="n">cpdef</span> <span class="nb">list</span> <span class="n">orders_for_exec_spawn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ClientOrderId</span> <span class="n">client_order_id</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Return all orders for the given execution spawn ID (if found).</span>

<span class="sd">    Will also include the primary (original) order.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    client_order_id : ClientOrderId</span>
<span class="sd">        The execution algorithm spawning primary (original) client order ID.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    list[Order]</span>

<span class="sd">    """</span>
</pre>
           </div>
          </div>
         </section>
        </section>
       </section>
      </article>
     </div>
    </div>
   </main>
  </div>
  <footer class="md-footer">
   <div class="md-footer-nav">
    <nav class="md-footer-nav__inner md-grid">
     <a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="orders.html" rel="prev" title="Orders">
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-back md-footer-nav__button">
       </i>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Previous
        </span>
        Orders
       </span>
      </div>
     </a>
     <a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="logging.html" rel="next" title="Logging">
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Next
        </span>
        Logging
       </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-forward md-footer-nav__button">
       </i>
      </div>
     </a>
    </nav>
   </div>
   <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
     <div class="md-footer-copyright">
      <div class="md-footer-copyright__highlight">
       © Copyright 2015-2023 Nautech Systems Pty Ltd.
      </div>
     </div>
    </div>
   </div>
  </footer>
  <script crossorigin="anonymous" integrity="sha512-yFjZbTYRCJodnuyGlsKamNE/LlEaEAxSUDe5+u61mV8zzqJVFOH7TnULE2/PP/l5vKWpUNnF4VGVkXh3MjgLsg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js">
  </script>
  <script src="../_static/javascripts/application.js">
  </script>
  <script>
   app.initialize({version: "1.0.4", url: {base: ".."}})
  </script>
 </body>
</html>
